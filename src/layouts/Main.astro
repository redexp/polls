---
import Base from './Base.astro';
import CenterCol from '@components/CenterCol.astro';
import Footer from '@components/Footer.astro';
import LoginModal from '@components/LoginModal.jsx';

import {TITLE} from '../const';

const {title = TITLE} = Astro.props;
---

<Base title={title}>
    <CenterCol>
        <slot/>

        <Footer/>
    </CenterCol>

    <LoginModal client:only="solid-js"/>

    <script>
        (() => {
            const {searchParams: qs} = new URL(location.href);
            if (!qs.has('poll')) return;
            const a = document.getElementById(qs.get('poll'));
            if (!a) return;
            a.scrollIntoView({behavior: "smooth"});
        })();
    </script>
</Base>